---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
library(ggroove)
```


```{r, echo = FALSE}
library(png)
test <- readPNG(here::here("data","bear.png"))

img.r <- as.raster(test,interpolate=F)


a  = 
  
rows <- nrow(img.r)

cols <- ggroove::ggroove_db$hex[ggroove::ggroove_db$album == "ok_computer"]

rows_per_col <- round(rows / length(cols))

for (i in 1:rows){
  
  img.r[i,!stringr::str_detect(as.character(img.r[i,]), "#000")] <-  cols[ceiling(i / rows_per_col)]
  
  # img.r[i,stringr::str_detect(as.character(img.r[i,]), "#000")] <- "#FFFDFA"

}

plot(img.r)


```

# ggroove

There are two colors in my head. But we'll need a few more to make plots. 

`ggroove` is a package of ggplot2 color palette functions based on album art. 

The first entry is from Radiohead, which gets a series of specific functions in the form

`scale_fill_radiohead_d` and `scale_color_radiohead_c`


A quick note, there's a lot of science out there on how to construct color palettes that accurately convey information. These are not those. Color schemes that make for great album art are not necessarily designed to convey information. 

I wouldn't recommend using these for continuous color scales, if you've got a few discrete categories rock on. 


## OK Computer
```{r}

plot_palette(lp = "ok_computer")

```

## Kid A

```{r}

plot_palette(lp = "kid_a")

```


## Amnesiac

```{r}
plot_palette(lp = "amnesiac")

```

## In Rainbows

```{r}
plot_palette(lp = "in_rainbows")

```


## The King of Limbs

```{r}
plot_palette(lp = "the_king_of_limbs")

```

# How to Use

We'll use data from `gapminder` and `palmerpenguins` to demonstrate `ggroove`. 

## A continous colorramp

Here's a continuous colorramp based on OK Computer (again, probably best not to use this for continuous scales!)

```{r}
library(ggplot2)
library(dplyr)
library(ggroove)
library(palmerpenguins)
library(gapminder)

penguins %>% 
  ggplot(aes(bill_length_mm, bill_depth_mm, color = body_mass_g)) + 
  geom_point(size = 4) + 
  scale_color_radiohead_c(album = "ok_computer")
```


## A better use with discrete Fills
Here's a more appropriate example showing discrete fills

```{r}

gapminder::gapminder %>%
  ggplot(aes(lifeExp, fill =  country)) +
  geom_histogram(show.legend = FALSE) +
  scale_fill_radiohead_d(album = "in_rainbows") +
  theme_minimal() + 
  theme_dark()


```



## ... The Beatles!

And one more with The Beatles!


```{r}

gapminder::gapminder %>%
  ggplot(aes(lifeExp, fill =  continent)) +
  geom_histogram(show.legend = TRUE, color = "black") +
  scale_fill_album_d(album = "the_white_album") +
  theme_minimal() + 
  theme_dark()


```

